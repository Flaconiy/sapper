*Состав команды: Осипян Арсен, Шарипов Тимур*

## 0. Размышления над идеей. Составление ТЗ

Взявшись за сапёра, мы начали думать над организацией нашей программы.
В итоге мы пришли к единому ТЗ и зафиксировали его.
Задача "создать игру" разделилась на несколько менее трудных задач:
1. Класс `Field` - поле с клетками (наследуется от `Graph_lib::Widget`)
2. Класс `Cell` - сами клетки (наследуется от `Graph_lib::Button`)
3. Класс `Sidebar` - боковая панель управления игрой (наследуется от `Graph_lib::Widget`)

## 1. Первая попытка реализации. Правки ТЗ

После долгих попыток реализации мы пришли к выводу, что и поле, и сайдбар будут прикрепляться к окну. Проблема была в связке двух виджетов, прикрепленных к одному окну (на сайдбаре расположены кнопки, которые привязаны и к родительскому виджету, и к окну). Поразмыслив над нашей задачей, мы решили переделать ТЗ:
1. Класс `Sapper` (наследуется от `Graph_lib::Window`) 
Размер клетки поля постоянен, размер окна изменяется при изменении размеров поля.

## 2. Реализация интерфейса

Все взаимодействие пользователя с игрой описано в файле `miner.cpp`, а сам класс - соответственно в `miner.h`.
В ходе разработки интерфейса мы решили создать "прослойку" между `Graph_lib::Button` и нашим классом. Это понадобилось из-за скрытого параметра `Fl_Widget* pw`. Так появился класс `Button_resizable`, а далее и `Out_box_resizable`. В начале классы просто открывали параметр `pw`, но затем, для избежания ошибки проектирования, класс изменился.
Поначалу все константы были определены в файле `miner.h`, но затем мы решили перенести все константы в отдельный файл `constants.h`.
Добавлено 3 режима игры - 10х10, 15х15, 20х20. Их, кстати, можно изменить, поменяв значение констант в файле.
Реализовано случайная генерация бомб на поле при создании новой игры.
Реализована привязка кнопок к окну, прописаны их коллбэки и методы, режим игры (флаг/открытие) сменяется по кнопке

## 3. Написание алгоритма открытия клеток

2-мя подходами мы пытались реализовать открытие соседних клеток с нулевым количеством бомб вокруг. Изначальный алгоритм был рекурсивным.
Поначалу он использовался для окрашивания клеток и тестирования работы программы. Через некоторое время после создания рабочей версии игры было решено переписать алгоритм с рекурсивного на циклический.

## 4. Реализация sidebar-а

`Sidebar` представляет из себя боковую панель игры и состоит из:
1. Таймера
2. Поля с количеством оставшихся флагов (или знака выигрыша, проигрыша в конце игры)
3. Кнопки `NEW GAME`, которая при нажатии дает выбор из 3 уровней сложности
4. Кнопка выхода из игры

## 5. Правки в логике

Теперь генерация расположения бомб происходит только в момент первого нажатия на поле для исключения проигрыша первым шагом. Это было реализовано добавлением параметра `bool first_click` в класс `Sapper`.
Добавлена поддержка нажатий левой и правой кнопками мыши, удалена кнопка изменения режима. Это привело к значительному упрощению интерфейса.
Добавлен запрет установки флага до момента первой открытой клетки.
Поправлено изменение размеров окна и прикрепленных к нему кнопок, для этого понадобился метод `resize`.

## 6. Добавление изображений

Созданы изображения в духе оригинального сапера.
Вывод количества оставшихся бомб переделано на картинки, поле вывода из `Sidebar` удалено.
Привязаны картинки к клеткам, реализовано изменение привязанной картинки.
Для картинок произвезведена попытка оптимизации памяти.

## 6. Тестирование

## 7. Конечный результат

Конечный результат вы можете скачать себе и наслаждаться игрой, попивая чаек и поедая вкусные печеньки.

## 8. Сборка

Чтобы собрать и запустить у себя этот проект, укажите верный путь до библиотек `Graph_lib` и `FLTK` (их можно скачать с этого репозитория в папке `_lib`).

